@(request: play.api.mvc.RequestHeader, loginForm: play.api.data.Form[(String,String)], errorMsg: Option[String] = None)

@import securesocial.core.Registry
@import securesocial.core.providers.UsernamePasswordProvider.UsernamePassword
@import views.html.custom.provider

@views.html.main(Messages("securesocial.login.title")) {
    @errorMsg.map { msg =>
        <div class="alert ahni-alert-fixed-top ahni-danger">
            @Messages(msg)
        </div>
        <script type="text/javascript">
        $(document).ready(function() {
            $('div.alert.ahni-danger').slideDown(500).delay(5000).slideUp(500)
        });
        </script>
    }

    @request.flash.get("success").map { msg =>
        <div class="alert ahni-alert-fixed-top ahni-success">
            @msg
        </div>
        <script type="text/javascript">
        $(document).ready(function() {
            $('div.alert.ahni-success').slideDown(500).delay(5000).slideUp(500)
        });
        </script>
    }

    @request.flash.get("error").map { msg =>
        <div class="alert ahni-alert-fixed-top ahni-danger">
            @msg
        </div>
        <script type="text/javascript">
        $(document).ready(function() {
            $('div.alert.ahni-danger').slideDown(500).delay(5000).slideUp(500)
        });
        </script>
    }
    <div class="container">
        <div class="starter-template">
            <div>
                <img src="@routes.Assets.at("images/ahni-logo/ahni-logo-64.png")" alt="">
                <h1 class="darkorange-f">ahni<small>[:inha]</small></h1>
            </div>
            <hr class="darkorange-border">
            @defining( Registry.providers.all.values.filter( _.id != UsernamePassword) ) { externalProviders =>

                @if( externalProviders.size > 0 ) {
                    <p>
                        @for(p <- externalProviders) { @provider(request, p.id) }
                    </p>
                    @*<p> 소셜 아이디로 로그인 할 수 있어요 </p>*@
                }

                @Registry.providers.get(UsernamePassword).map { up =>
                    @provider(request, "userpass", Some(loginForm))
                }
            }
        </div>
    </div>
}